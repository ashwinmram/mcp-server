[
  "MCP Resources are automatically available to AI clients when registered in a server's $resources array - they don't require manual invocation like prompts",
  "MCP Resources should have a unique URI, descriptive MIME type (e.g., 'text/markdown'), and clear description to help AI clients understand their purpose",
  "Server instructions property should explicitly guide AI agents to read resources at session start - this complements automatic resource availability",
  ".cursorrules file can include explicit instructions for AI agents to query MCP servers at session start - this ensures lessons are loaded even if resources aren't automatically read",
  "Use a three-pronged approach for automatic lesson loading: MCP Resources (automatic), Server Instructions (guidance), and .cursorrules (explicit instructions)",
  "MCP Resources are best for providing context that can be automatically loaded, while Prompts are for manual invocation by AI agents when needed",
  "When creating MCP Resources, use descriptive URIs like 'lessons://overview' that clearly indicate the resource's purpose and content",
  "Server instructions should be in markdown format and explicitly mention which resources to read and when (e.g., 'at the start of each AI agent session')",
  "Configure Cursor MCP servers using either Settings UI or mcp.json file in project root - Settings UI is recommended for easier token management",
  "Sanctum API tokens for MCP authentication should be generated using artisan command: php artisan mcp:generate-token --name='cursor-mcp-token'",
  "MCP server URLs should use HTTPS in production and include authentication headers: {\"Authorization\": \"Bearer YOUR_TOKEN\"}",
  "End-of-session workflow: Run 'php artisan mcp:convert-and-push --source=project-name' to convert and push lessons from .cursorrules and AI_*.json files",
  "The mcp:convert-and-push command automatically handles deduplication using content hash, so running it multiple times won't create duplicate lessons",
  "MCP Resources should return Response::text() for markdown/text content - the Response class provides proper formatting for MCP protocol",
  "When testing MCP resources, use the server's static resource() method in tests, not direct instantiation - this ensures proper request context",
  "MCP server registration in routes/ai.php requires middleware for authentication - use auth:sanctum for token-based authentication",
  "Resources are advertised to MCP clients during server initialization - ensure resources are registered before the server starts accepting connections",
  "Tag arrays in lessons must be stored as JSON arrays (not objects) for whereJsonContains queries to work correctly - use array_values(array_unique($tags))",
  "Lesson conversion logic should extract categories from filenames (e.g., AI_testing_patterns.json becomes 'testing-patterns' category)",
  "Content-based tag extraction helps enrich lessons with relevant tags based on keywords in the lesson content (e.g., 'http::fake' -> 'http-mocking')",
  "MCP Inspector can be used to test server configuration: php artisan mcp:inspector mcp/lessons - requires authentication token in headers",
  "Server instructions should mention available resources, tools, and prompts in a structured way to help AI agents discover capabilities",
  "The lessons://overview resource provides a summary that guides AI agents on how to use SearchLessons, GetLessonByCategory, and GetLessonTags tools",
  "Always include authentication instructions in MCP setup documentation - tokens must be kept secure and never committed to version control"
]
